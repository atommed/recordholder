<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>WebPack test</title>
		<link rel="stylesheet" href="css/main.css">
	</head>
	<body>
		<div id="app_mount"></div>
		<form enctype="multipart/form-data" method="post" name="fileinfo">
			<label>File uploader</label><br>
			<input type="file" name="music" required />
			<input type="submit" value="Upload file!" />
		</form>
		<div id="upload_result"></div>
		<script>
var form = document.forms.namedItem("fileinfo");
var output = document.getElementById("upload_result");
form.addEventListener('submit', function(ev){
	var oData = new FormData(form);
	var req = new XMLHttpRequest();
	req.open("POST", "api/fileUpload", true);
	req.onload = function(ev){
		if(req.status == 200)
			output.innerHTML = req.response
		else
			output.innerHTML = "Error " + req.status;
	}
	req.send(oData);
	ev.preventDefault()
}, false)
		</script>
	</body>
</html>
